<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultas</title>
    
    <link rel="shortcut icon" href="resource/img/alexcgdesign.png" type="image/x-icon">
     <!-- Bootstrap CSS -->
     <link rel="stylesheet" href="resource/bootstrap/css/bootstrap.min.css">
     <!-- CSS personalizado --> 
     <link rel="stylesheet" href="resource/css/style2.css">
     <link rel="stylesheet" href="resource/css/consultas.css">
    <!--datables CSS básico-->
    <link rel="stylesheet" type="text/css" href="resource/datatables/datatables.min.css"/>
     <!--datables estilo bootstrap 5 CSS-->  
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
     <!--font awesome con CDN-->   
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">  
      
</head>
<body>
    <div class="contenedor-principal">
        <header>
            <nav class="menu">
              <ul>
                <a href="/inicio"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                  </svg><br> <%=name%></a>
                <a href="/inicio"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-door-fill" viewBox="0 0 16 16">
                    <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z"/>
                  </svg><br>Inicio</a>
                <a href="/responsivas"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-text-fill" viewBox="0 0 16 16">
                    <path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1zm0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1z"/>
                  </svg><br>Responsivas</a>
                <a href="/consultas"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                  </svg><br>Consultas</a>
                <a href="/reglamento"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book-half" viewBox="0 0 16 16">
                    <path d="M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                  </svg><br> Leyes y Reglamentos</a>
                <a href="/logout"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-toggle-off" viewBox="0 0 16 16">
                    <path d="M11 4a4 4 0 0 1 0 8H8a4.992 4.992 0 0 0 2-4 4.992 4.992 0 0 0-2-4h3zm-6 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM0 8a5 5 0 0 0 5 5h6a5 5 0 0 0 0-10H5a5 5 0 0 0-5 5z"/>
                  </svg><br>Cerrar sesión</a>
              </ul>
            </nav>
        </header>
        
        <div class="centro">
            <h1>Módulo de consultas</h1>
            <div class="radio">
				<h2>Filtar datos:</h2>

				<input onclick="mostrarResponsiva()" type="radio" name="selector" id="responsiva_tabla">
				<label for="responsiva_tabla">Responsiva</label>
		
				<input onclick="mostrarPredio()" type="radio" name="selector" id="predio_tabla">
				<label for="predio_tabla">Predio</label>
		
				<input onclick="mostrarPropietario()" type="radio" name="selector" id="propietario_tabla">
				<label for="propietario_tabla">Propietario</label>
			</div>

            <div class="conte_tabla_1 ocultar" id="conte_tabla_1"  eblclass="container">    
                <table id="consultas" class="table table-bordered table-striped text-center mt-4" cellspacing="0">
                    <thead>
                    <tr class="bg-primary text-white ">
                        <th scope="col">Nombre de la responsiva</th>
                        <th scope="col">Emision</th>
                        <th scope="col">Vigencia</th>
                        <th scope="col">Dirección</th>
                        <th scope="col">Catastro</th>             
                        <th scope="col">Propietario</th>   
                        <th scope="col">Borrar</th>            
                    </tr>
                    </thead>
                    <tbody>
                    <% results.forEach((result)=>{ %>
                        <tr>  
                            <td><%= result.nom_r %></td>  

                            <td><%= result.expe %></td> 

                            <%if(result.venci!=null){%>
                                <td><%= result.venci %></td> 
                            <%}else{%>
                                <td><%= "-" %></td>
                            <%}%>

                            
                            <%if(result.direccion==null){%>
                                <td><%=result.calle+", No. Ext: "+result.num_exterior+', Int.'+result.num_interior+', Col. '+result.colonia+', Alc. '+result.alcaldia+', CP:'+result.cp %>   </td>
                            <% }else{%>
                                <td><%= result.direccion %></td>
                            <%}%>

                            <td><%= result.num_catastral %></td>

                            <%if(result.razon==null && result.nom_pro==null){%>
                                <td><%= result.propietario %></td>
                            <% }else{%>
                                <%if(result.razon==null && result.propietario==null){%>
                                    <td><%= result.nom_pro+' '+result.ape1_pro+' '+result.ape2_pro %></td>
                                <%}else{%>
                                    <td><%= result.razon %></td>
                                <%}%>
                            <%}%>
                            <td>
                            <a class="btn btn-outline-info" onclick="confirmar(<%=result.responsiva_id%>)"><i class="fas fa-trash"></i></a>                   
                            </td>
                        </tr>                                   
                    <% }) %>
                    </tbody>
                </table>
            </div>
            <div class="conte_tabla_2 ocultar" id="conte_tabla_2"  eblclass="container">    
                <table id="consultas_2" class="table table-bordered table-striped text-center mt-4" cellspacing="0">
                    <thead>
                    <tr class="bg-primary text-white ">
                        <th scope="col">Nombre de la responsiva</th>
                        <th scope="col">Uso</th>
                        <th scope="col">Predio<br>(m²)</th>
                        <th scope="col">Responsiva<br>(m²)</th>
                        <th scope="col">Niveles</th>             
                        <th scope="col">Sotanos</th>   
                        <th scope="col">Viviendas</th> 
                        <th scope="col">Cajones</th> 
                        <th scope="col">Observaciones</th> 
                        <th scope="col">Borrar</th>            
                    </tr>
                    </thead>
                    <tbody>
                    <% results.forEach((result)=>{ %>
                        <tr>  
                            <td><%= result.nom_r %></td>  
                            <td><%= result.uso %></td>
                            <td><%= result.superficie_predio %></td>
                            <td><%= result.superficie_responsiva %></td>
                            <td><%= result.niveles_snb %></td>
                            <td><%= result.niveles_bnb %></td>
                            <td><%= result.viviendas %></td>
                            <td><%= result.cajones %></td>
                            <td><%= result.descripcion %></td>
                            <td>
                            <a class="btn btn-outline-info" onclick="confirmar(<%=result.responsiva_id%>)"><i class="fas fa-trash"></i></a>                   
                            </td>
                        </tr>                                   
                    <% }) %>
                    </tbody>
                </table>
            </div>
            <div class="conte_tabla_3 ocultar" id="conte_tabla_3"  eblclass="container">    
                <table id="consultas_3" class="table table-bordered table-striped text-center mt-4" cellspacing="0">
                    <thead>
                    <tr class="bg-primary text-white ">
                        <th scope="col">Nombre de la responsiva</th>
                        <th scope="col">Propietario</th>
                        <th scope="col">Telefono</th>
                        <th scope="col">RFC</th>
                        <th scope="col">Grupo</th>    
                        <th scope="col">Borrar</th>             
                    </tr>
                    </thead>
                    <tbody>
                    <% results.forEach((result)=>{ %>
                        <tr>  
                            <td><%= result.nom_r %></td>  
                            <%if(result.razon==null && result.nom_pro==null){%>
                                <td><%= result.propietario %></td>
                            <% }else{%>
                                <%if(result.razon==null && result.propietario==null){%>
                                    <td><%= result.nom_pro+' '+result.ape1_pro+' '+result.ape2_pro %></td>
                                <%}else{%>
                                    <td><%= result.razon %></td>
                                <%}%>
                            <%}%>

                            <%if(result.telefono!=null){%>
                                <td><%= result.telefono %></td> 
                            <%}else{%>
                                <td><%= "-" %></td>
                            <%}%>

                            <%if(result.rfc!=null){%>
                                <td><%= result.rfc %></td> 
                            <%}else{%>
                                <td><%= "-" %></td>
                            <%}%>

                            <td><%= result.resp_grupo %></td>
                            <td>
                            <a class="btn btn-outline-info" onclick="confirmar(<%=result.responsiva_id%>)"><i class="fas fa-trash"></i></a>                   
                            </td>
                        </tr>                                   
                    <% }) %>
                    </tbody>
                </table>
            </div>
            <div id="filtros_bajo" class="ocultar radio">
				<input onclick="mostrarResponsiva()" type="radio" name="selector" id="responsiva_tabla">
				<label for="responsiva_tabla">Responsiva</label>
		
				<input onclick="mostrarPredio()" type="radio" name="selector" id="predio_tabla">
				<label for="predio_tabla">Predio</label>
		
				<input onclick="mostrarPropietario()" type="radio" name="selector" id="propietario_tabla">
				<label for="propietario_tabla">Propietario</label>
			</div>
        </div>
        
        <div class="footer">
            <div class="contenedor-footer">
                <div class="content-foo">
                    <h4>Phone</h4>
                    <p>8296312</p>
                </div>
                <div class="content-foo">
                    <h4>Email</h4>
                    <p>8296312</p>
                </div>
                <div class="content-foo">
                    <h4>Location</h4>
                    <p>8296312</p>
                </div>
            </div>
            <h2 class="titulo-final">&copy;  Design | TT</h2>
        </div>
    </div>
     <!-- jQuery, Popper.js, Bootstrap JS -->
     <script src="resource/jquery/jquery-3.3.1.min.js"></script>
     <script src="resource/popper/popper.min.js"></script>
     <script src="resource/bootstrap/js/bootstrap.min.js"></script>

      <!-- datatables JS -->
    <script type="text/javascript" src="resource/datatables/datatables.min.js"></script>    
     
    <!-- para usar botones en datatables JS -->  
    <script src="resource/datatables/Buttons-1.5.6/js/dataTables.buttons.min.js"></script>  
    <script src="resource/datatables/JSZip-2.5.0/jszip.min.js"></script>    
    <script src="resource/datatables/pdfmake-0.1.36/pdfmake.min.js"></script>    
    <script src="resource/datatables/pdfmake-0.1.36/vfs_fonts.js"></script>
    <script src="resource/datatables/Buttons-1.5.6/js/buttons.html5.min.js"></script>

    <script src="resource/js/consultas.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    </body>
</html>